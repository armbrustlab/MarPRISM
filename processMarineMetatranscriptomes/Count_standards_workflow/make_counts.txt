#create counts file for RPKM normalizations
#zcat $FILE | grep -c ">" >> counts.txt


#DIEL1
cd /mnt/nfs/ryan/diel1/mORFeus_v2/counts
screen -S count

SUBJECT_DIR="/mnt/nfs/ryan/diel1/mORFeus_v2"
SUBJECT_LIST="/mnt/nfs/ryan/diel1/mORFeus_v2/all_6tr_orfs40_handles.txt"
SUBJECT="diel1_mORFeus_v2"

function fasta_counting {

SUBJECT_FASTA="$1".6tr.orfs40.fasta.gz

zcat $SUBJECT_DIR/$SUBJECT_FASTA | grep -c ">" >> $SUBJECT.counts.txt
}

for subject in $(cat $SUBJECT_LIST); do
fasta_counting $subject
done

######get sampleID and counts into a tab file
SUBJECT_DIR="/mnt/nfs/ryan/diel1/mORFeus_v2"
SUBJECT_LIST="/mnt/nfs/ryan/diel1/mORFeus_v2/all_6tr_orfs40_handles.txt"
SUBJECT="diel1_mORFeus_v2"

paste -d ,  $SUBJECT_LIST $SUBJECT.counts.txt > $SUBJECT.counts.csv

###########################################################
#G1NS ### 

cd /mnt/nfs/ryan/Gradients1/nonselected/bf40/morfeus/counts


SUBJECT_DIR="/mnt/nfs/ryan/Gradients1/nonselected/bf40/morfeus"
SUBJECT_LIST="/mnt/nfs/ryan/Gradients1/nonselected/bf40/morfeus/Gradients.nonselected.sample.list.txt"
SUBJECT="G1NS"

function fasta_counting {

SUBJECT_FASTA="$1".6tr.bf40.orfs40.fasta.gz

zcat $SUBJECT_DIR/$SUBJECT_FASTA | grep -c ">" >> $SUBJECT.counts.txt
}

for subject in $(cat $SUBJECT_LIST); do
fasta_counting $subject
done


######get sampleID and counts into a csv file
SUBJECT_DIR="/mnt/nfs/ryan/Gradients1/nonselected/bf40/morfeus"
SUBJECT_LIST="/mnt/nfs/ryan/Gradients1/nonselected/bf40/morfeus/Gradients.nonselected.sample.list.txt"
SUBJECT="G1NS"

paste -d ,  $SUBJECT_LIST $SUBJECT.counts.txt > $SUBJECT.counts.csv

#################################################################
#G1PA ### 

cd /mnt/nfs/ryan/Gradients1/nonselected/bf40/morfeus/counts


SUBJECT_DIR="/mnt/nfs/ryan/Gradients1/mORFeus_v2/"
SUBJECT_LIST="/mnt/nfs/ryan/Gradients1/mORFeus_v2/gradients1_morfeus_handles.txt"
SUBJECT="G1PA"

function fasta_counting {

SUBJECT_FASTA="$1".6tr.orfs40.fasta.gz

zcat $SUBJECT_DIR/$SUBJECT_FASTA | grep -c ">" >> $SUBJECT.counts.txt
}

for subject in $(cat $SUBJECT_LIST); do
fasta_counting $subject
done


######get sampleID and counts into a csv file
SUBJECT_DIR="/mnt/nfs/ryan/Gradients1/mORFeus_v2/"
SUBJECT_LIST="/mnt/nfs/ryan/Gradients1/mORFeus_v2/gradients1_morfeus_handles.txt"
SUBJECT="G1PA"

paste -d ,  $SUBJECT_LIST $SUBJECT.counts.txt > $SUBJECT.counts.csv

#########################################################################
#G2PA_15m

cd /mnt/nfs/ryan/Gradients2/PA/merged/6tr/bf40/counts


SUBJECT_DIR="/mnt/nfs/ryan/Gradients2/PA/merged/6tr/bf40/"
SUBJECT_LIST="/mnt/nfs/ryan/Gradients2/PA/merged/6tr/bf40/G2PA.extendedFrags.6tr.bf40.handles.txt"
SUBJECT="G2PA_15m"

function fasta_counting {

SUBJECT_FASTA="$1".extendedFrags.6tr.bf40.fasta.gz

zcat $SUBJECT_DIR/$SUBJECT_FASTA | grep -c ">" >> $SUBJECT.counts.txt
}

for subject in $(cat $SUBJECT_LIST); do
fasta_counting $subject
done


##continue here!


######get sampleID and counts into a csv file
SUBJECT_DIR="/mnt/nfs/ryan/Gradients2/PA/merged/6tr/bf40/"
SUBJECT_LIST="/mnt/nfs/ryan/Gradients2/PA/merged/6tr/bf40/G2PA.extendedFrags.6tr.bf40.handles.txt"
SUBJECT="G2PA_15m"

paste -d ,  $SUBJECT_LIST $SUBJECT.counts.txt > $SUBJECT.counts.csv

#########################################################################################
#G2NA_15m
screen -r count2
cd /mnt/nfs/ryan/Gradients2/NS/merged/6tr/bf40/counts


SUBJECT_DIR="/mnt/nfs/ryan/Gradients2/NS/merged/6tr/bf40/"
SUBJECT_LIST="/mnt/nfs/ryan/Gradients2/NS/merged/6tr/bf40/G2NS.extendedFrags.6tr.bf40.handles.txt"
SUBJECT="G2NS_15m"

function fasta_counting {

SUBJECT_FASTA="$1".extendedFrags.6tr.bf40.fasta.gz

zcat $SUBJECT_DIR/$SUBJECT_FASTA | grep -c ">" >> $SUBJECT.counts.txt
}

for subject in $(cat $SUBJECT_LIST); do
fasta_counting $subject
done


##continue here!


######get sampleID and counts into a csv file
SUBJECT_DIR="/mnt/nfs/ryan/Gradients2/NS/merged/6tr/bf40/"
SUBJECT_LIST="/mnt/nfs/ryan/Gradients2/NS/merged/6tr/bf40/G2NS.extendedFrags.6tr.bf40.handles.txt"
SUBJECT="G2NS_15m"

paste -d ,  $SUBJECT_LIST $SUBJECT.counts.txt > $SUBJECT.counts.csv
